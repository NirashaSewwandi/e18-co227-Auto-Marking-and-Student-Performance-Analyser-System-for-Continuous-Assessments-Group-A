"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92628],{79138:function(e,n,i){i.d(n,{Bg:function(){return d},Mq:function(){return T},Oy:function(){return m},Q1:function(){return f},kR:function(){return v},nd:function(){return p},wb:function(){return y}});var t,r,o,s=i(59499),c=i(703),u=i(43257);function a(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){(0,s.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var p=(t={},(0,s.Z)(t,c._0,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,c.Ke,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,c.m4,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,c.Fq,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,c.v2,{quality:3,displayName:"large",name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,c.R7,{quality:3,name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,c.x0,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,c.Vw,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,c.JF,{quality:3,name:"large",downloadName:"large",label:"common:image_size_large"}),t),d=(r={},(0,s.Z)(r,c.Xk,c.v2),(0,s.Z)(r,c.Fm,c.m4),(0,s.Z)(r,c._I,c._0),(0,s.Z)(r,c.Nu,c._0),r),m={LEGACY_TO_SSTK:{ultrahd4k:"4k",web:"low",lowres:"low"},SSTK_TO_LEGACY:{low:"web","4k":"ultrahd4k"},SSTK_TO_LEGACY_ELIGIBILTY:l(l({},{low:"lowres"}),{},{"4k":"ultrahd4k"})},b=function(e){var n,i=e.licenseType,t=e.isOnlySDVideoAvailable;return n={},(0,s.Z)(n,"footage_".concat(i,"_4k"),c.yF),(0,s.Z)(n,"footage_".concat(i,"_hd"),t?c.SD:c.HD),(0,s.Z)(n,"footage_".concat(i,"_sd"),c.SD),(0,s.Z)(n,"footage_".concat(i,"_lowres"),c.T0),n},v=u.oP.reduce((function(e,n){return l(l({},e),b({licenseType:n}))}),{}),f=u.oP.reduce((function(e,n){return l(l({},e),b({licenseType:n,isOnlySDVideoAvailable:!0}))}),{}),y=(o={},(0,s.Z)(o,c.yF,c.yF),(0,s.Z)(o,c.HD,c.HD),(0,s.Z)(o,c.SD,c.SD),(0,s.Z)(o,c.qY,c.qY),(0,s.Z)(o,c.qG,c.yF),(0,s.Z)(o,c.dn,c.HD),(0,s.Z)(o,c.rf,c.SD),(0,s.Z)(o,c.Zh,c.qY),(0,s.Z)(o,c.L0,c.HD),(0,s.Z)(o,c.Ae,c.SD),(0,s.Z)(o,c.vD,c.HD),(0,s.Z)(o,c.yE,c.qY),o),T=[c.yF,c.HD,c.SD,c.yE,c.qY,c.qG,c.dn,c.rf,c.Zh,c.L0,c.Ae,c.vD].reduce((function(e,n){return l(l({},e),{},(0,s.Z)({},n,function(e){var n,i=e.resolutionAbbr;return n={},(0,s.Z)(n,u.az,"footage_premier_".concat(i)),(0,s.Z)(n,u.dH,"footage_platform_".concat(i)),(0,s.Z)(n,u.dW,"footage_media_".concat(i)),(0,s.Z)(n,u.Iu,"footage_sm_premier_".concat(i)),(0,s.Z)(n,u.CS,"footage_sm_media_".concat(i)),(0,s.Z)(n,u.s5,"footage_select_premier_".concat(i)),(0,s.Z)(n,u.Hv,"footage_select_media_".concat(i)),(0,s.Z)(n,u.TP,"footage_comp_".concat(i)),n}({resolutionAbbr:y[n]})))}),{})},92628:function(e,n,i){i.d(n,{$L:function(){return P},Aw:function(){return F},E3:function(){return k},I9:function(){return V},Im:function(){return L},Ip:function(){return w},U:function(){return X},XI:function(){return A},ar:function(){return z},cr:function(){return I},eL:function(){return H},hD:function(){return q},ky:function(){return x},lc:function(){return R},nj:function(){return U},q1:function(){return j},qY:function(){return Z},rZ:function(){return S},vq:function(){return _}});var t=i(90116),r=i(59499),o=i(17674),s=i(4730),c=i(93158),u=i(703),a=i(95944),l=i(8544),p=i(43257),d=i(81906),m=i(9391),b=i(25021),v=i(79138),f=i(43788),y=["creditPriceComponents"];function T(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function g(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?T(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var _=function(e){var n=e.licenseName;return p.b5.includes(n)},Z=function(e){var n,i,t=e.subscription;return!!(null!==t&&void 0!==t&&t.isUnlimited||null!==t&&void 0!==t&&null!==(n=t.currentLicenses)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.isUnlimited)},w=function(e){var n,i,t,r=e.subscription,o=null===r||void 0===r||null===(n=r.currentAllotments)||void 0===n?void 0:n.length;return null===r||void 0===r||null===(i=r.currentAllotments)||void 0===i||null===(t=i[o-1])||void 0===t?void 0:t.creditsRemaining},S=function(e){var n=e.subscription,i=w({subscription:n});return null===i||i>0},O=function(e){var n=e.priceType,i=e.price,t=e.currency;return e.activityTracking===d.nm&&n===d.vh?{priceAsAbsolute:{price:i,priceType:d.Br,currency:t}}:{}},h=function(e){var n=e.subscription,i=e.assetTypeFromSubscription;return i===a.xF&&Z({subscription:n})?"".concat(i).concat((0,m.ZV)(a.q9)):i},C=function(e){var n,i=e.currentLicense;return null!==(n=null===i||void 0===i?void 0:i.maxContentTier)&&void 0!==n?n:l.E2},A=function(e){var n,i,t=e.subscription,r=t.creditPrice,c=t.creditType,u=t.creditCurrency,a=t.currentLicenses,l=t.redeemableFor,p=t.product,m=t.type,b=null!==(n=null!==u&&void 0!==u?u:null===a||void 0===a||null===(i=a[0])||void 0===i?void 0:i.currency)&&void 0!==n?n:null===p||void 0===p?void 0:p.currency,v=(null===a||void 0===a?void 0:a.find((function(e){return e.redeemableFor===l})))||{},f=v.creditPriceComponents,T=(0,s.Z)(v,y),_=d.bW[m],Z=d.iN[_];return f&&Z?Object.entries(f.contentTier).reduce((function(e,n){var i,r=(0,o.Z)(n,2),s=r[0],c=r[1],u=c.amount,a=c.amountType,l=void 0===a?d.Zm:a,p=Number(s);return e.push(g({currency:b,subscriptionType:h({subscription:t,assetTypeFromSubscription:Z[s]}),price:u,contentTier:p,priceType:l},O({priceType:null!==(i=t.creditType)&&void 0!==i?i:l,price:t.creditPrice,currency:b,activityTracking:t.activityTracking}))),e}),[]):[{subscriptionType:h({subscription:t,assetTypeFromSubscription:_}),currency:b,price:r,priceType:c||d.Zm,contentTier:C({currentLicense:T})}]},D=function(e){var n=e.assetContentTier,i=e.subscriptionMaxContentTier,t=e.musicInfo,r=i>=n;if(null!==t&&void 0!==t&&t.isMusic){var o=t.isUnlimited,s=t.isUnlimitedSubscriptionAvailable;if(n>l.$H)return r&&!o;if(s)return!!o}return r},N=function(e){var n=e.subscriptions,i=e.contentTier,t=e.musicInfo;return null===n||void 0===n?void 0:n.map((function(e){var n,r;return null!==e&&void 0!==e&&null!==(n=e.currentLicenses)&&void 0!==n&&n.length?i?function(e){var n=e.subscription,i=e.mediaContentTier,t=e.musicInfo,r=n.activityTracking,o=n.currentLicenses,s=n.creditPrice,c=n.creditType,u=function(e){var n=e.prices,i=e.mediaContentTier;return(null===n||void 0===n?void 0:n.find((function(e){return e.contentTier>=i})))||{}}({prices:A({subscription:n}),mediaContentTier:i}),a=u.price,l=u.priceType,p=u.currency,d=o.filter((function(e){var n=e.maxContentTier,r=e.isUnlimited;return D({assetContentTier:i,subscriptionMaxContentTier:n,musicInfo:g(g({},t),{},{isUnlimited:r})})}));return g(g({},n),{},{currentLicenses:d,creditPrice:a,creditType:l},O({priceType:null!==c&&void 0!==c?c:l,price:s,currency:p,activityTracking:r}))}({subscription:e,mediaContentTier:i,musicInfo:t}):function(e){var n,i,t=e.subscription,r=null===(n=t.currentLicenses[0].creditPriceComponents)||void 0===n?void 0:n.contentTier,s=r?Object.entries(r)[0]:[{},{}],c=(0,o.Z)(s,2)[1].amountType;return g(g({},t),O({priceType:null!==(i=t.creditType)&&void 0!==i?i:c,price:t.creditPrice,currency:t.creditCurrency,activityTracking:t.activityTracking}))}({subscription:e}):g({creditType:null!==(r=null===e||void 0===e?void 0:e.creditType)&&void 0!==r?r:d.Zm},e)}))},L=function(e){var n=e.subscriptions,i=e.licenseName,t=i?null===n||void 0===n?void 0:n.filter((function(e){var n=e.redeemableFor;return null!==i&&void 0!==i&&i.includes("_unlimited")?n===i:n==="".concat(i,"_unlimited")})):n;return!(null===t||void 0===t||!t.some((function(e){var n=e.currentLicenses;return null===n||void 0===n?void 0:n.some((function(e){return!!e.isUnlimited}))})))},P=function(e){var n,i,t,r=e.assetType,o=e.subscriptions,s=e.licenseName,c=e.contentTier,u=null===o||void 0===o||null===(n=o.filter((function(e){var n=e.license,i=e.redeemableFor,t=e.name;return n===s||i===s||t===s})))||void 0===n||null===(i=n.sort((function(e,n){return new Date(e.subscriptionExpiration).getTime()-new Date(n.subscriptionExpiration).getTime()})))||void 0===i?void 0:i.map((function(e){return(0,f.TR)({subscription:e,assetType:r})})),l=r===a.xF,p={isMusic:l,isUnlimitedSubscriptionAvailable:l&&L({subscriptions:o,licenseName:s})},m=c?function(e){var n=e.subscriptions,i=e.contentTier,t=e.musicInfo;return(null===n||void 0===n?void 0:n.filter((function(e){var n=e.currentLicenses;return null===n||void 0===n?void 0:n.find((function(e){var n=e.maxContentTier,r=e.isUnlimited;return D({assetContentTier:i,subscriptionMaxContentTier:n,musicInfo:g(g({},t),{},{isUnlimited:r})})}))})))||[]}({subscriptions:u,contentTier:c,musicInfo:p}):u,b=N({subscriptions:m,contentTier:c,musicInfo:p});return null!==m&&void 0!==m&&m[0]&&(t=g({creditType:d.Zm},null===m||void 0===m?void 0:m[0])),(null===b||void 0===b?void 0:b.find((function(e){return S({subscription:e})})))||t},I=function(e){var n=e.subscriptions,i=void 0===n?[]:n,r=e.contentTier,o=e.assetType;return function(e){return e.sort((function(e,n){return n.creditPrice-e.creditPrice}))}(i.reduce((function(e,n){var s=n.redeemableFor||n.name,c=P({subscriptions:i,licenseName:s,contentTier:r,assetType:o});return c?function(e){var n=e.subscriptionToUse,i=e.licenseName,t=null===n||void 0===n?void 0:n.currentLicenses;return!!t&&t.length&&!(null!==t&&void 0!==t&&t.find((function(e){return e.redeemableFor===i.replace("/_unlimited/","")})))}({subscriptionToUse:c,licenseName:s})||function(e){var n=e.item;return e.uniqueSubsAcc.find((function(e){var i=e.redeemableFor,t=e.name;return n.redeemableFor===i||n.name&&n.name===t}))}({item:n,uniqueSubsAcc:e})?e:[].concat((0,t.Z)(e),[c]):e}),[]))},j=function(e){var n=e.assets,i=void 0===n?[]:n;return(0,b.N3)(null===i||void 0===i?void 0:i[0])?a.nX:(0,b.so)(null===i||void 0===i?void 0:i[0])?a.A7:(0,b.vV)(null===i||void 0===i?void 0:i[0])?a.ox:(0,b.Tp)(null===i||void 0===i?void 0:i[0])},F=function(e){var n=e.assetType,i=e.contentTier,t=e.subscriptions;if(!t||!n)return[];switch(n){case a.nX:return{compSubscriptions:t.editorialImageCompSubscriptions,subscriptions:I({assetType:n,subscriptions:t.editorialImageSubscriptions,contentTier:i})};case a.A7:return{compSubscriptions:t.editorialVideoCompSubscriptions,subscriptions:I({assetType:n,subscriptions:t.editorialVideoSubscriptions,contentTier:i})};case a.pX:return{compSubscriptions:t.videoCompSubscriptions,subscriptions:I({assetType:n,subscriptions:t.videoSubscriptions,contentTier:i})};case a.xF:case a.j0:return{compSubscriptions:t.musicCompSubscriptions,subscriptions:I({assetType:n,subscriptions:t.musicSubscriptions,contentTier:i})};case a.k4:default:return{compSubscriptions:t.imageCompSubscriptions,subscriptions:I({assetType:n,subscriptions:t.imageSubscriptions,contentTier:i})}}},k=function(e){var n=e.assetType,i=e.subscriptions,t=F({assetType:n,subscriptions:i});return(null===t||void 0===t?void 0:t.subscriptions)||[]},q=function(e){var n,i=e.asset,t=e.subscriptions,r=j({assets:[i]}),o=null===(n=F({assetType:r,subscriptions:t}))||void 0===n?void 0:n.compSubscriptions;return t&&(null===o||void 0===o?void 0:o.some((function(e){return S({subscription:e})})))},E=function(e){var n=e.acc,i=e.totalCostOfItems,t=e.amountRemaining,r=e.totalAmount,o=e.bypassLowBalance;return void 0!==o&&o||(i>t&&(n.hasInsufficientSubscriptionCredits=!0,n.hasLowDebitableBalance=!1,n.insufficientAmount=i-t),!n.hasInsufficientSubscriptionCredits&&t<=.05*r&&(n.hasLowDebitableBalance=!0)),n},U=function(e){var n=e.items,i=e.subscriptions,t=e.subscription,r=e.hasWrapperSubscription,o=void 0===r||r;if(n&&n.length){var s={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:d.Zm};return n.reduce((function(e,n){var r,s=n.licenseId,c=n.price,u=j({assets:[n]}),a=t||P({subscriptions:null===(r=F({assetType:u,subscriptions:i}))||void 0===r?void 0:r.subscriptions,selectedLicenseId:s,assetType:u})||{},l=(0,f.Vp)(a),p=l.totalAmount,m=l.amountRemaining,b=l.amountType,v=l.amount;e.amountType=b;var y=parseFloat(c),T=parseFloat(e.total)+y;if(e.total+=y,b===d.vh){var g=parseFloat(v),_=parseFloat(e.totalCreditAmount)+g;return e.totalCreditAmount+=g,E({acc:e,totalCostOfItems:_,amountRemaining:m,totalAmount:p,bypassLowBalance:!o})}return E({acc:e,totalCostOfItems:T,amountRemaining:m,totalAmount:p,bypassLowBalance:!o})}),s)}var c=i||{},u=Object.keys(c).find((function(e){return Array.isArray(c[e])&&c[e].length})),a=(0,f.bC)({subscriptions:c[u]||[]})[0]||{},l=(0,f.Vp)(a),p=l.totalAmount,m=l.amountRemaining;return{amountType:l.amountType,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:m<=.05*p,insufficientAmount:null}},x=function(e){var n,i=e.items,t=e.isLoading,r=e.subscription,o=e.subscriptions,s=e.userCapabilities;return t?{}:(r&&(n=r.creditType),o&&o.length>0&&(n=o[0].creditType),(0,f.Kc)({userCapabilities:s})?U({items:i,subscription:r,subscriptions:o,hasWrapperSubscription:(0,f.zF)({userCapabilities:s})}):{amountType:n||d.Zm,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:!(!r||0!==w({subscription:r})),insufficientAmount:null})},z=function(e){var n,i,t=e.subscriptions,r=e.asset,o=Object.values((null===r||void 0===r||null===(n=r.metadata)||void 0===n||null===(i=n.cart)||void 0===i?void 0:i.sizes)||r.sizes||{}),s=(0,b.$Q)({sizes:o});return null===t||void 0===t?void 0:t.filter((function(e){var n=e.redeemableFor,i=s?v.Q1[n]:v.kR[n];return null===o||void 0===o?void 0:o.some((function(e){var n=e.resolution,t=e.name;return v.wb[n]===i||v.wb[t]===i||i===u.T0&&v.wb[n]===u.qY}))}))},Y=function(e){var n,i=e.licenses,t=e.subscriptions;return i.some((function(e){return n=P({subscriptions:t,licenseName:e,assetType:a.pX})})),n},B=function(e){var n=e.licenseType,i=e.licenseName,t=e.subscriptions;return i==="footage_".concat(n,"_sd")?Y({licenses:["footage_".concat(n,"_sd"),"footage_".concat(n,"_hd")],subscriptions:t}):i==="footage_".concat(n,"_lowres")?Y({licenses:["footage_".concat(n,"_lowres")],subscriptions:t}):void 0},H=function(e){var n=e.subscriptions,i=e.licenseName,t=a.pX;if([p.Mb,p.G,p.mf,p.vb,p.Dh,p.SP,p.a9,p.y2,p.v1,p.KK,p.mJ,p.Wd].some((function(e){return e===i})))return P({subscriptions:n,licenseName:i,assetType:t});if(p.Lj.some((function(e){return e===i})))return P({subscriptions:n,licenseName:i,assetType:t});if([p.f1,p.Oy,p.JC,p.TL].some((function(e){return e===i})))return P({subscriptions:n,licenseName:p.f1,assetType:t});var r=B({licenseType:p.bi,licenseName:i,subscriptions:n}),o=B({licenseType:p.Ee,licenseName:i,subscriptions:n}),s=B({licenseType:p.pH,licenseName:i,subscriptions:n}),c=B({licenseType:p.wO,licenseName:i,subscriptions:n});return r||o||s||c||void 0},R=function(e){var n=e.subscriptions,i=e.assetType;return null===n||void 0===n?void 0:n.some((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.product,t=(n=void 0===n?{}:n).status,r=n.businessUnit,o=n.name;return t===d.PP&&(i===a.tn?c.LY.includes(o):r===i||"none"===r)}))},V=function(e){var n=e.assetType,i=e.contentTier,t=e.subscriptions,r=e.selectedLicenseId;switch(n){case a.pX:return H({licenseName:r,subscriptions:t});case a.j0:case a.xF:case a.tn:case a.k4:default:return P({subscriptions:t,licenseName:r,contentTier:i,assetType:n})}},X=function(e){var n=e.uniqueSubscription;if(!n)return{};var i=n.priceAsAbsolute,t=n.creditCurrency,r=n.product,o=Z({subscription:n}),s=null!==t&&void 0!==t?t:null===r||void 0===r?void 0:r.currency;if(!i){var c=n.creditPrice,u=n.creditType,a=void 0===u?d.Zm:u;return{price:"".concat((0,b.lO)({price:c,isUnlimited:o})),priceType:a,currency:s}}var l=i.price,p=i.priceType;return{price:"".concat((0,b.lO)({price:l,isUnlimited:o})),priceType:p,currency:s}}}}]);
//# sourceMappingURL=92628-a44c33d5fed1cb68.js.map